features

- (v2) add terminal step
- (v2) tab support (guide switcha tabove kako user definira)

GITHUB API

- (V2) ako je truncate:true, onda req bez reqursive
- save za taj repo da ni ne pokušava više sa reqursive
- dir ako nije refreshan radi req bez recursive (to će bit uvijek u slučaju truncate=false)

- na osnovu toga ide diff changed files ili ovaj sa svime

- ljude prvo zanima tour a tek onda kako ga napravit
- neki način da se taj tour može isprobat na početnoj šta lakše (možda iframe koji se louda ili nešto slično)
možda čak embedded app ko glavna sekcija na landing pageu

before going public
- oauth gh app, generate new secret

todo
- example guide, na početku ko za onboarding stepovi, onda showcase PR-a i unutar samog guide se objašnjava codeguide
- get guide, check github repo access (deltas must not be shown to others)
- comment na prazan file (da nije potreban highlight ili delta za comment)
- monaco za ostale jezike
- /create
- add media button na prazni draft u guideu (tj + ikona pa na hover piše add picture/vid)
- welcome screen
- na save unauthorized, pitat za fork
+ edit/view viewovi. Defaultni je view, a edit je na blabla/edit.
+ publish
+ Kad je u view modeu, defaultno je gledat file explorer koji se otvara kako se mijenja highlight

SAVE CHANGES
- change je inmutable, netreba update
  - ako u v2 dodamo neki updajte (tipa povećani highlight) onda treba pobrisat stari change i dodat novi
  - to će radit ispravno ako je ispravan id
  - a id može bit ispravan tako da se stvori sa ulid(prevTimestamp + 1)
  - to isto znači da mora ostat Object.keys(changes).sort() jer je potrebno sortirat po id-u a ne kad je dodan objekt

  - ako u v2 dodamo sort, opet, brisanje 2 changea i dodavanje novih sa drugačijim id-ovima
  - s obzirom da se koristi keys().sort() ne bi smjelo bit problema
  - samo treba pazit na delta() odnosno ne omogućit reorder na ništa osim highlighta jer je inače pre teško to resolvat

- na save dodaju se novi, brišu se neiskorišteni 
  - (znači potrebno je negdje spremit id-ove koji su sejvani)

SAVE COMMENTS
- change-comments table
  - key: guideId (jer želim učitat sve na init)
  - changeId:commentId

BUGs

- ako ostane draft u diffu, i prebaci se na browse file, ne napravi novi file node

GITHUB RATE LIMITING
- s obzirom na 80ak req per min, bolje fileove spremit na create
  - prvo dođe sve sa githuba a za changes koje treba prikazat u guideu, sejva se i file (dep change?)
  - updejt privacy i na landing pageu
  - jedino za ostale fileove koji nisu u guideu ide request na github pa ako dođe do rate limita, jebiga

- i dalje jedino useri sa accessom mogu pristupit guideu, to se ensura tako da se napravi neki request prije nego se uzme sa dynamoa

// todo
- fetch files n steps from dynamo not gh
- bug http://localhost:3000/5m2mai6d3
  - .env file se ne vidi (created)
- maknut left side kad je view mode
- prikazat samo explorer kad je browse
- are you sure you want to close tab alert
- github link na vrhu
- codeguide link na vrhu
- edit/logout/publish linkovi
- empty spaces ikona da se prikaže samo kad treba
- stepovi kad se dođe na kraj treba neki "guide over"

